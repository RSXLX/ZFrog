---
status: 已审核
version: 1.0
last_updated: 2026-01-13
reviewer: AI
---

# 社区花园模块需求设计

## 一、模块概述

社区花园是公共社交空间，玩家可以在这里放置自己的青蛙与其他玩家互动，形成社区氛围。

## 二、用户场景

### 2.1 进入花园
- 查看公共花园中的所有青蛙
- 看到其他玩家的青蛙在活动
- 实时看到新进入的青蛙

### 2.2 放置青蛙
- 将自己的青蛙放入花园
- 选择放置位置
- 设置青蛙的展示状态

### 2.3 互动功能
- 点击其他青蛙查看详情
- 给其他青蛙点赞/打招呼
- 查看花园活动记录

## 三、功能需求

### 3.1 后端功能
| 功能 | 描述 |
|------|------|
| 花园状态 | 获取花园中所有青蛙位置 |
| 放置青蛙 | 将青蛙放入/移出花园 |
| 互动记录 | 记录点赞等互动行为 |
| 实时推送 | WebSocket 推送状态变化 |

### 3.2 前端功能
| 功能 | 描述 |
|------|------|
| 花园视图 | 展示花园和青蛙 |
| 实时更新 | 实时显示其他玩家的青蛙 |
| 互动按钮 | 点赞、打招呼等交互 |

## 四、数据结构

```typescript
interface GardenFrog {
  tokenId: number;
  owner: string;
  position: { x: number; y: number };
  joinedAt: Date;
  status: string;
}

interface GardenInteraction {
  id: string;
  fromTokenId: number;
  toTokenId: number;
  type: 'like' | 'wave' | 'gift';
  createdAt: Date;
}
```

## 五、接口依赖

- 后端路由：`garden.routes.ts`、`community.routes.ts`
- 服务：`community.service.ts`
- 前端组件：`components/garden/`

## 六、边界条件

- 花园同时容纳青蛙数量上限
- 青蛙在花园停留时间限制
- 互动频率限制
- 并发放置冲突处理

---
