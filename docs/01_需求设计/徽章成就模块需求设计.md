---
status: 已审核
version: 1.0
last_updated: 2026-01-13
reviewer: AI
---

# 徽章成就模块需求设计

## 一、模块概述

徽章成就系统激励玩家完成各种游戏目标，通过收集徽章展示成就，增加游戏粘性。

## 二、用户场景

### 2.1 查看徽章
- 浏览所有可获得的徽章
- 查看已解锁的徽章
- 查看徽章解锁条件和进度

### 2.2 解锁徽章
- 完成特定行为后自动解锁徽章
- 收到徽章解锁通知
- 查看徽章稀有度

### 2.3 展示徽章
- 选择展示的徽章
- 在个人主页显示徽章
- 分享徽章成就

## 三、功能需求

### 3.1 徽章类型
| 类型 | 示例 |
|------|------|
| 旅行类 | 首次旅行、跨链旅行者 |
| 社交类 | 人气王、友谊长存 |
| 收集类 | 纪念品收藏家 |
| 成就类 | 满级青蛙、全勤玩家 |

### 3.2 后端功能
| 功能 | 描述 |
|------|------|
| 徽章检查 | 检查用户是否满足解锁条件 |
| 徽章授予 | 解锁徽章并记录 |
| 进度追踪 | 追踪徽章相关的统计数据 |

### 3.3 前端功能
| 功能 | 描述 |
|------|------|
| 徽章展示 | 展示徽章列表和详情 |
| 解锁动画 | 徽章解锁时的动画效果 |
| 进度条 | 显示徽章解锁进度 |

## 四、数据结构

```typescript
interface Badge {
  id: string;
  name: string;
  description: string;
  imageUrl: string;
  rarity: 'common' | 'rare' | 'epic' | 'legendary';
  condition: BadgeCondition;
}

interface UserBadge {
  userId: string;
  badgeId: string;
  unlockedAt: Date;
  displayed: boolean;
}
```

## 五、接口依赖

- 后端路由：`badge.routes.ts`
- 服务：`badge-checker.service.ts`、`achievement.service.ts`
- 前端组件：`components/badge/`

## 六、边界条件

- 重复解锁检查
- 条件变更的兼容处理
- 历史数据补发徽章

---
