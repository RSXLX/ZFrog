让我先了解ZetaFrog项目的具体内容，以便给出更准确的开发路径建议。

现在我对ZetaFrog项目有了完整的了解。让我为你规划一个完整的宠物蛋结合ZetaFrog的业务开发路径：

---

# ZetaFrog × 宠物蛋 业务开发路径

## 📍 项目定位升级

**当前定位**：ZetaChain 全链 AI 桌面宠物（偏"旅行青蛙"模式）

**升级定位**：**ZetaChain 全链 AI 养成宠物** —— 融合拓麻歌子的"强情感绑定养成机制"与旅行青蛙的"佛系探索机制"

**核心差异化**：

- 旅行青蛙 = 被动等待 + 随缘收集
- 拓麻歌子 = 主动照顾 + 生存责任
- **ZetaFrog 2.0** = **主动养成 + 跨链探索 + 链上生命周期**

---

## 🛤️ 开发路径总览

```
Phase 0: 架构评估（1周）
    ↓
Phase 1: 核心养成循环（3-4周）
    ↓
Phase 2: 状态驱动旅行（2-3周）
    ↓
Phase 3: 社交繁殖系统（3-4周）
    ↓
Phase 4: 经济闭环与GameFi（2-3周）
    ↓
Phase 5: 进阶玩法与生态（持续迭代）
```

---

## Phase 0: 架构评估与设计（1周）

### 目标

明确拓麻歌子机制如何融入现有ZetaFrog架构

### 任务清单

| 任务                                       | 产出         |
| ------------------------------------------ | ------------ |
| 梳理现有系统模块                           | 模块依赖图   |
| 定义养成属性与现有属性(XP/等级/性格)的关系 | 属性映射表   |
| 确定链上/链下数据边界                      | 数据架构文档 |
| 评估实时性需求对后端的影响                 | 技术方案     |

### 关键决策点

1. **状态存储位置**：
   - 链上（合约）：核心生存状态（是否存活、进化形态）
   - 链下（PostgreSQL）：实时状态（饱食度、幸福度、健康度）

2. **时间机制**：
   - 采用"加速时间"而非完全实时（1现实小时 = 游戏内X小时）
   - 跨链旅行期间状态冻结（类似拓麻歌子的"暂停"）

---

## Phase 1: 核心养成循环（3-4周）

### 目标

建立"喂养 → 状态变化 → 后果"的基础循环

### 1.1 状态系统实现

**新增属性（与现有属性并行）：**

| 属性   | 范围  | 衰减规则                | 恢复方式  |
| ------ | ----- | ----------------------- | --------- |
| 饱食度 | 0-100 | 每小时-5                | 喂食      |
| 幸福度 | 0-100 | 每小时-3                | 玩耍/互动 |
| 清洁度 | 0-100 | 随机事件触发-20         | 清洁      |
| 健康度 | 0-100 | 低饱食/低清洁时-10/小时 | 治疗      |

**与现有系统融合：**

- 高幸福度 → XP获取加成
- 健康度<30 → 无法发起跨链旅行
- 进化形态 ← 综合照顾质量决定

### 1.2 基础操作实现

```
Frontend 新增交互：
├── 🍔 喂食按钮
│   ├── 主食：饱食度+20，体重+1
│   └── 零食：幸福度+15，体重+2
├── 🎮 玩耍按钮
│   └── 触发小游戏，幸福度+10~30
├── 🧹 清洁按钮
│   └── 清洁度重置100
├── 💊 治疗按钮
│   └── 健康度重置80（消耗道具）
└── 💡 状态面板
    └── 实时显示四维属性
```

### 1.3 后端任务调度扩展

```javascript
// backend/src/services/petStatusService.ts
// 定时任务：每10分钟执行
async function decayPetStatus() {
  // 1. 衰减饱食度、幸福度
  // 2. 根据清洁度触发"排泄"事件
  // 3. 计算健康度变化
  // 4. 触发状态变更通知（Socket.IO）
  // 5. 检查死亡条件
}
```

### 1.4 通知与呼叫系统

**桌面端推送（Tauri）：**

- 饱食度<20 → "你的青蛙饿了！🐸"
- 清洁度<30 → "环境需要打扫！🧹"
- 健康度<50 → "青蛙生病了，快来照顾！💊"

---

## Phase 2: 状态驱动旅行（2-3周）

### 目标

让养成状态影响跨链旅行的触发和结果

### 2.1 旅行前置条件

```
发起跨链旅行的条件：
├── 饱食度 ≥ 50 ✓
├── 健康度 ≥ 30 ✓
├── 干粮（ZETA）充足 ✓
└── 上次旅行已结束 ✓
```

### 2.2 状态对旅行的影响

| 出发状态  | 旅行效果               |
| --------- | ---------------------- |
| 幸福度>80 | 纪念品掉落概率+20%     |
| 健康度>90 | 旅行时间-10%           |
| 清洁度<50 | 日记内容出现"抱怨"语句 |
| 饱食度<30 | 可能中途返回           |

### 2.3 旅行期间状态处理

```
旅行中的青蛙：
├── 状态冻结（不衰减）
├── UI显示"旅行中..."
├── 归来时根据旅途消耗扣除状态
│   └── 饱食度-30，幸福度+20（旅行很开心）
└── 带回物资可用于养成
    ├── 链上特产 → 可作为食物/道具
    └── 纪念品NFT → 可装饰/出售
```

### 2.4 AI日记与状态关联

**Prompt优化（百炼模型）：**

```
你是一只刚从{target_chain}旅行回来的青蛙。
出发时状态：饱食度{hunger}，幸福度{happiness}，健康度{health}
旅途见闻：区块高度{block_height}，Gas费{gas_price}，发现交易{tx_summary}
你的性格是{personality}。

请用第一人称写一篇100字的旅行日记，要体现：
1. 你的身体状态对旅途的影响
2. 你对链上见闻的感受
3. 你对主人照顾的评价（状态好→感谢，状态差→撒娇抱怨）
```

---

## Phase 3: 社交繁殖系统（3-4周）

### 目标

引入拓麻歌子的核心社交——好友互动与繁殖机制

### 3.1 好友系统增强（基于现有好友系统）

**新增互动类型：**

| 互动        | 效果                    | 限制    |
| ----------- | ----------------------- | ------- |
| 🎁 赠送食物 | 对方饱食度+10，亲密度+5 | 每天3次 |
| 🏠 串门     | 双方幸福度+5，亲密度+3  | 每天5次 |
| 🤝 一起玩耍 | 双方幸福度+15           | 每天1次 |
| 📬 留言板   | 对方幸福度+3            | 无限制  |

### 3.2 亲密度与配对系统

**亲密度机制：**

```
亲密度等级：
├── 陌生人 (0-20)
├── 点头之交 (21-50)
├── 好朋友 (51-80)
├── 亲密伙伴 (81-99)
└── 灵魂伴侣 (100) → 可繁殖
```

**配对条件：**

- 双方亲密度达到100
- 双方青蛙性别不同（或消耗特殊道具）
- 双方青蛙均为成年形态
- 双方玩家确认同意

### 3.3 繁殖与遗传系统

**链上实现（合约扩展）：**

```solidity
// contracts/ZetaFrogBreeding.sol
function breed(uint256 frogA, uint256 frogB) external {
    // 验证条件
    require(canBreed(frogA, frogB), "Conditions not met");

    // 生成子代属性
    Genetics memory childGenes = _mixGenetics(
        frogs[frogA].genetics,
        frogs[frogB].genetics
    );

    // Mint 新青蛙（蛋状态）
    uint256 childId = _mintEgg(msg.sender, childGenes);

    // 设置冷却期
    frogs[frogA].breedCooldown = block.timestamp + 7 days;
    frogs[frogB].breedCooldown = block.timestamp + 7 days;
}
```

**遗传规则：**
| 属性 | 遗传方式 |
|-----|---------|
| 外观（皮肤/颜色） | 随机继承父母之一 |
| 性格 | 70%继承，30%变异 |
| 初始属性上限 | 父母平均值±10% |
| 稀有特征 | 小概率出现隐性遗传 |

### 3.4 孵化机制

```
青蛙蛋孵化流程：
├── 蛋期（12-24小时）
│   └── 需要保持"温暖"（每4小时互动一次）
├── 孵化
│   └── 链上 Reveal，确定最终形态
└── 幼年期开始
    └── 进入正常养成循环
```

---

## Phase 4: 经济闭环与GameFi（2-3周）

### 目标

引入可持续的经济系统，平衡"佛系"与"Play to Earn"

### 4.1 货币系统

**双代币模型：**

| 代币               | 用途                            | 获取方式                     |
| ------------------ | ------------------------------- | ---------------------------- |
| **$LILY** (软货币) | 购买普通食物/道具               | 玩小游戏、日常签到、照顾奖励 |
| **$ZETA** (硬货币) | 跨链旅行Gas、稀有道具、繁殖费用 | 充值、出售NFT                |

### 4.2 商店系统

```
每日商店刷新：
├── 普通食物 (消耗$LILY)
│   ├── 面包 → 饱食度+15
│   ├── 虫子 → 饱食度+25
│   └── 蛋糕 → 幸福度+20
├── 道具 (消耗$LILY或$ZETA)
│   ├── 加速卡 → 旅行时间-50%
│   ├── 治疗药水 → 健康度+50
│   └── 幸运草 → 下次旅行掉落率+30%
└── 限定商品 (消耗$ZETA)
    ├── 稀有皮肤
    └── 家园装饰
```

### 4.3 Play to Earn 设计

**每日任务系统：**

```
日常任务（获得$LILY）：
├── 喂食3次 → 50 $LILY
├── 玩耍1次 → 30 $LILY
├── 串门1次 → 20 $LILY
├── 完成1次旅行 → 100 $LILY
└── 保持健康度>80全天 → 50 $LILY

周常任务（获得$LILY + NFT碎片）：
├── 累计旅行3次
├── 好友互动10次
└── 青蛙升级1次
```

**NFT变现路径：**

```
纪念品NFT → 可在市场出售 → 获得$ZETA
稀有青蛙 → 提供配种服务 → 收取$ZETA
家园装饰 → 二级市场流通
```

### 4.4 GameFi平衡策略（佛系与肝帝共存）

```
佛系玩家路径：
├── 每天5分钟照顾
├── 被动积累旅行收益
├── 享受AI日记和陪伴
└── 长期养成，不焦虑

肝帝玩家路径：
├── 高频互动获取$LILY
├── 使用加速道具缩短旅行
├── 多青蛙繁殖配种
├── NFT交易获利
└── 社交竞赛冲排行
```

---

## Phase 5: 进阶玩法与生态（持续迭代）

### 5.1 进化分支系统

```
进化路线树：
                    [蛋]
                      ↓
                   [幼蛙]
                      ↓
            ┌────────┼────────┐
        [探险蛙]   [学者蛙]   [社交蛙]
            ↓         ↓         ↓
       [航海家]   [哲学家]   [外交官]
       [猎人]     [诗人]     [网红]

进化条件：
├── 探险蛙 ← 旅行次数>20
├── 学者蛙 ← 对话次数>50 + 日记收集>10
└── 社交蛙 ← 好友数>10 + 亲密度总和>500
```

### 5.2 死亡与重生机制

**死亡条件：**

- 健康度降至0且24小时未治疗
- 饱食度降至0超过48小时

**死亡后处理：**

```
青蛙死亡时：
├── 链上记录（墓碑NFT）
├── 继承机制
│   ├── 50% $LILY传给下一代
│   └── 部分稀有道具可继承
├── 纪念系统
│   └── 生成"一生回顾"日记
└── 重新孵化
    └── 从蛋开始，保留家园
```

### 5.3 公会/DAO系统

```
蛙群公会：
├── 创建公会（消耗$ZETA）
├── 公会任务（集体跨链探索）
├── 公会国库（共享收益）
└── 治理投票（决定发展方向）
```

### 5.4 跨链生态联动

```
与其他链上项目联动：
├── NFT项目合作
│   └── 持有某NFT → 解锁特殊皮肤
├── DeFi联动
│   └── 质押$ZETA → 青蛙获得"富贵"buff
└── 其他游戏互通
    └── 青蛙可"访问"合作项目的世界
```

---

## 📅 里程碑时间线

| 阶段    | 时间       | 交付物                    |
| ------- | ---------- | ------------------------- |
| Phase 0 | Week 1     | 技术架构文档              |
| Phase 1 | Week 2-5   | 核心养成循环上线（内测）  |
| Phase 2 | Week 6-8   | 状态驱动旅行（公测Alpha） |
| Phase 3 | Week 9-12  | 社交繁殖系统（公测Beta）  |
| Phase 4 | Week 13-15 | 经济系统上线（正式版）    |
| Phase 5 | Week 16+   | 持续迭代                  |

---

## 🎯 核心价值主张升级

**Before（当前）：**

> "ZetaFrog是一只跨链旅行的AI青蛙"

**After（融合宠物蛋后）：**

> "ZetaFrog是一个需要你照顾的链上生命——它会饿、会生病、会开心、会成长、会繁衍、会死亡。它的每一次跨链旅行，都是因为你把它养得健康又快乐。"
