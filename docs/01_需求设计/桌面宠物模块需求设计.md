---
status: 已审核
version: 1.0
last_updated: 2026-01-13
reviewer: AI
---

# 桌面宠物模块需求设计

## 一、模块概述

桌面宠物是 ZetaFrog 的特色功能，让青蛙以桌面宠物形式陪伴用户，提供便捷的钱包操作和互动体验。

## 二、用户场景

### 2.1 宠物互动
- 查看青蛙在桌面活动
- 点击青蛙触发动画和对话
- 喂食、抚摸等互动操作

### 2.2 钱包连接
- 通过桌面端连接钱包
- WalletConnect 扫码连接
- 查看钱包余额和资产

### 2.3 快捷操作
- 快速发起旅行
- 查看旅行状态通知
- 接收成就和奖励通知

## 三、功能需求

### 3.1 桌面端功能
| 功能 | 描述 |
|------|------|
| 青蛙渲染 | 渲染青蛙动画 |
| 窗口管理 | 透明窗口、置顶 |
| 系统托盘 | 托盘图标和菜单 |

### 3.2 钱包功能
| 功能 | 描述 |
|------|------|
| WalletConnect | 浏览器钱包连接 |
| 签名验证 | 交易签名处理 |
| 资产查询 | 余额和 NFT 查询 |

### 3.3 通信功能
| 功能 | 描述 |
|------|------|
| API 同步 | 与后端 API 通信 |
| WebSocket | 实时消息推送 |
| 本地缓存 | 离线数据缓存 |

## 四、数据结构

```python
class PetState:
    token_id: int
    position: Tuple[int, int]
    animation: str
    mood: str
    last_interaction: datetime
```

## 五、接口依赖

- Python 入口：`desktop_pet/main.py`
- UI 组件：`desktop_pet/ui/`
- 服务：`desktop_pet/services/`

## 六、边界条件

- 多显示器支持
- 高 DPI 缩放适配
- 长时间运行内存管理
- 网络断开的离线模式

---
