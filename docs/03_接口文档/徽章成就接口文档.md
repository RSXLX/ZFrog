---
status: å·²å®¡æ ¸
version: 1.0
last_updated: 2026-01-14
reviewer: AI (æ ¹æ®å®é™…ä»£ç æ£€æŸ¥)
---

# å¾½ç« æˆå°±æ¥å£æ–‡æ¡£

## ä¸€ã€æ¥å£æ¦‚è§ˆ

| åˆ†ç±» | æ¥å£ | æ–¹æ³• | è·¯å¾„ |
|------|------|------|------|
| å¾½ç«  | è·å–å¾½ç« åˆ—è¡¨ | GET | `/api/badges` |
| å¾½ç«  | è·å–é’è›™å…¨éƒ¨å¾½ç«  | GET | `/api/badges/:frogId` |
| å¾½ç«  | è·å–å·²è§£é”å¾½ç«  | GET | `/api/badges/:frogId/unlocked` |
| æ—…è¡Œå¾½ç«  | è·å–æ—…è¡Œå¾½ç«  | GET | `/api/badges/frog/:frogId/travel` |
| ç»Ÿè®¡ | è·å–å¾½ç« ç»Ÿè®¡ | GET | `/api/badges/frog/:frogId/stats` |

---

## äºŒã€å¾½ç« æŸ¥è¯¢æ¥å£

### 2.1 è·å–å¾½ç« åˆ—è¡¨

```
GET /api/badges?frogId=1
GET /api/badges?ownerAddress=0x...
```

**æŸ¥è¯¢å‚æ•° (äºŒé€‰ä¸€)**

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| frogId | number | å¦ | é’è›™æ•°æ®åº“ ID |
| ownerAddress | string | å¦ | æ‰€æœ‰è€…é’±åŒ…åœ°å€ |

**å“åº” (æŒ‰ frogId æŸ¥è¯¢)**

```json
{
  "success": true,
  "data": [
    {
      "id": "badge_001",
      "code": "FIRST_TRIP",
      "name": "ç¬¬ä¸€æ¬¡å‡ºé—¨",
      "description": "å®Œæˆé¦–æ¬¡æ—…è¡Œ",
      "icon": "ğŸ’",
      "rarity": 1,
      "unlocked": true,
      "unlockedAt": "2026-01-14T08:00:00.000Z"
    }
  ]
}
```

**å“åº” (æŒ‰ ownerAddress æŸ¥è¯¢)**

```json
{
  "success": true,
  "data": [
    {
      "frogId": 1,
      "frogTokenId": 0,
      "frogName": "å°è›™",
      "badges": [...]
    }
  ]
}
```

---

### 2.2 è·å–é’è›™å…¨éƒ¨å¾½ç« 

```
GET /api/badges/:frogId
```

**è·¯å¾„å‚æ•°**

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| frogId | number | æ˜¯ | é’è›™ TokenId |

**å“åº”**

```json
{
  "success": true,
  "data": [
    {
      "id": "badge_001",
      "code": "FIRST_TRIP",
      "name": "ç¬¬ä¸€æ¬¡å‡ºé—¨",
      "description": "å®Œæˆé¦–æ¬¡æ—…è¡Œ",
      "icon": "ğŸ’",
      "unlockType": "TRIP_COUNT",
      "unlockCondition": { "threshold": 1 },
      "rarity": 1,
      "isHidden": false,
      "unlocked": true,
      "unlockedAt": "2026-01-14T08:00:00.000Z"
    },
    {
      "id": "badge_002",
      "code": "FREQUENT_TRAVELER",
      "name": "å¸¸æ—…å®¢",
      "description": "å®Œæˆ5æ¬¡æ—…è¡Œ",
      "icon": "âœˆï¸",
      "unlockType": "TRIP_COUNT",
      "unlockCondition": { "threshold": 5 },
      "rarity": 2,
      "isHidden": false,
      "unlocked": false,
      "unlockedAt": null
    }
  ]
}
```

---

### 2.3 è·å–å·²è§£é”å¾½ç« 

```
GET /api/badges/:frogId/unlocked
```

**å“åº”**

```json
{
  "success": true,
  "data": [
    {
      "id": "user_badge_001",
      "frogId": 1,
      "badgeId": "badge_001",
      "unlockedAt": "2026-01-14T08:00:00.000Z",
      "unlockedByTravelId": 5,
      "badge": {
        "id": "badge_001",
        "code": "FIRST_TRIP",
        "name": "ç¬¬ä¸€æ¬¡å‡ºé—¨",
        "icon": "ğŸ’",
        "rarity": 1
      }
    }
  ]
}
```

---

## ä¸‰ã€æ—…è¡Œå¾½ç« æ¥å£

### 3.1 è·å–æ—…è¡Œå¾½ç« 

```
GET /api/badges/frog/:frogId/travel
```

**å“åº”**

```json
{
  "success": true,
  "data": [
    {
      "id": "user_badge_001",
      "badgeType": "FIRST_TRIP",
      "earnedAt": "2026-01-14T08:00:00.000Z",
      "metadata": {
        "name": "ç¬¬ä¸€æ¬¡å‡ºé—¨",
        "icon": "ğŸ’",
        "description": "å®Œæˆé¦–æ¬¡æ—…è¡Œ",
        "rarity": 1
      }
    }
  ]
}
```

---

## å››ã€ç»Ÿè®¡æ¥å£

### 4.1 è·å–å¾½ç« ç»Ÿè®¡

```
GET /api/badges/frog/:frogId/stats
```

**å“åº”**

```json
{
  "success": true,
  "data": {
    "total": 15,
    "earned": 5,
    "progress": 33,
    "badges": ["FIRST_TRIP", "FREQUENT_TRAVELER", "BSC_VISITOR", "CHAIN_HOPPER", "LUCKY_FINDER"]
  }
}
```

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| total | number | å¯è§å¾½ç« æ€»æ•° |
| earned | number | å·²è·å¾—æ•°é‡ |
| progress | number | å®Œæˆç™¾åˆ†æ¯” |
| badges | string[] | å·²è·å¾—å¾½ç« ä»£ç åˆ—è¡¨ |

---

## äº”ã€æ•°æ®ç±»å‹

### 5.1 BadgeUnlockType (è§£é”ç±»å‹)

| å€¼ | è¯´æ˜ |
|------|------|
| TRIP_COUNT | æ—…è¡Œæ¬¡æ•°è¾¾æ ‡ |
| CHAIN_VISIT | è®¿é—®ç‰¹å®šé“¾æ¬¡æ•° |
| MULTI_CHAIN | è®¿é—®å¤šæ¡é“¾ |
| RARE_FIND | å‘ç°ç¨€æœ‰ç‰©å“ |
| SOCIAL | ç¤¾äº¤äº’åŠ¨è¾¾æ ‡ |
| COLLECTION | æ”¶è—æ•°é‡è¾¾æ ‡ |
| SPECIAL | ç‰¹æ®Šæ¡ä»¶ |

### 5.2 ç¨€æœ‰åº¦ (rarity)

| å€¼ | åç§° | é¢œè‰² |
|------|------|------|
| 1 | æ™®é€š | ç°è‰² |
| 2 | å°‘è§ | ç»¿è‰² |
| 3 | ç¨€æœ‰ | è“è‰² |
| 4 | ç½•è§ | ç´«è‰² |

---

## å…­ã€é”™è¯¯ç 

| HTTP | code | è¯´æ˜ |
|------|------|------|
| 400 | MISSING_PARAMETER | ç¼ºå°‘å¿…è¦å‚æ•° |
| 400 | INVALID_FROG_ID | æ— æ•ˆçš„é’è›™ ID |
| 404 | FROG_NOT_FOUND | é’è›™ä¸å­˜åœ¨ |
| 500 | INTERNAL_ERROR | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |

---

## ä¸ƒã€å˜æ›´è®°å½•

| æ—¥æœŸ | å†…å®¹ |
|------|------|
| 2026-01-14 | åˆå§‹ç‰ˆæœ¬ |
