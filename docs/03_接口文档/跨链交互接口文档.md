---
status: å·²å®¡æ ¸
version: 1.0
last_updated: 2026-01-14
reviewer: AI (æ ¹æ®å®é™…ä»£ç æ£€æŸ¥)
---

# è·¨é“¾äº¤äº’æ¥å£æ–‡æ¡£

## ä¸€ã€æ¥å£æ¦‚è§ˆ

| åˆ†ç±» | æ¥å£ | æ–¹æ³• | è·¯å¾„ |
|------|------|------|------|
| é…ç½® | è·å–æ”¯æŒé“¾ | GET | `/api/v1/cross-chain/supported-chains` |
| èµ„æ ¼ | æ£€æŸ¥èµ„æ ¼ | GET | `/api/v1/cross-chain/can-travel/:tokenId` |
| æ—…è¡Œ | åˆ›å»ºæ—…è¡Œ | POST | `/api/v1/cross-chain/travel` |
| æ—…è¡Œ | ç¡®è®¤å¼€å§‹ | POST | `/api/v1/cross-chain/travel/:travelId/started` |
| æ—…è¡Œ | ç¡®è®¤åˆ°è¾¾ | POST | `/api/v1/cross-chain/travel/:tokenId/arrived` |
| æ—…è¡Œ | å®Œæˆæ—…è¡Œ | POST | `/api/v1/cross-chain/travel/:tokenId/completed` |
| çŠ¶æ€ | è·å–çŠ¶æ€ | GET | `/api/v1/cross-chain/travel/:tokenId/status` |
| çŠ¶æ€ | æ£€æŸ¥è®¿é—® | GET | `/api/v1/cross-chain/travel/:tokenId/visiting` |
| åˆ—è¡¨ | æ´»è·ƒæ—…è¡Œ | GET | `/api/v1/cross-chain/active` |
| åŒæ­¥ | åŒæ­¥çŠ¶æ€ | POST | `/api/v1/cross-chain/sync/:tokenId` |
| å‘ç° | è·å–å‘ç° | GET | `/api/cross-chain/travel/:travelId/discoveries` |

---

## äºŒã€é…ç½®æ¥å£

### 2.1 è·å–æ”¯æŒçš„é“¾

```
GET /api/v1/cross-chain/supported-chains
```

**å“åº”**

```json
{
  "success": true,
  "data": [
    {
      "chainId": 97,
      "name": "BSC Testnet",
      "code": "BSC_TESTNET",
      "icon": "ğŸŸ¡",
      "enabled": true
    },
    {
      "chainId": 11155111,
      "name": "Ethereum Sepolia",
      "code": "ETH_SEPOLIA",
      "icon": "ğŸ’",
      "enabled": true
    }
  ]
}
```

---

## ä¸‰ã€èµ„æ ¼æ£€æŸ¥æ¥å£

### 3.1 æ£€æŸ¥è·¨é“¾èµ„æ ¼

```
GET /api/v1/cross-chain/can-travel/:tokenId?targetChainId=97
```

**è·¯å¾„å‚æ•°**

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| tokenId | number | æ˜¯ | é’è›™ TokenId |

**æŸ¥è¯¢å‚æ•°**

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| targetChainId | number | å¦ | ç›®æ ‡é“¾ IDï¼Œé»˜è®¤ 97 |

**å“åº”**

```json
{
  "success": true,
  "data": {
    "canStart": true,
    "reason": null,
    "frogStatus": "Idle",
    "estimatedGas": "300000",
    "requiredZeta": "0.003"
  }
}
```

**å¤±è´¥å“åº”**

```json
{
  "success": true,
  "data": {
    "canStart": false,
    "reason": "Frog is currently traveling",
    "frogStatus": "CrossChainLocked"
  }
}
```

---

## å››ã€æ—…è¡Œç®¡ç†æ¥å£

### 4.1 åˆ›å»ºè·¨é“¾æ—…è¡Œ

```
POST /api/v1/cross-chain/travel
```

**è¯·æ±‚ä½“**

```json
{
  "frogId": 1,
  "tokenId": 0,
  "targetChainId": 97,
  "duration": 3600,
  "ownerAddress": "0x..."
}
```

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| frogId | number | æ˜¯ | é’è›™æ•°æ®åº“ ID |
| tokenId | number | æ˜¯ | é’è›™ TokenId |
| targetChainId | number | æ˜¯ | ç›®æ ‡é“¾ ChainId |
| duration | number | æ˜¯ | æ—…è¡Œæ—¶é•¿ï¼ˆç§’ï¼‰ |
| ownerAddress | string | æ˜¯ | æ‰€æœ‰è€…åœ°å€ |

**å“åº”**

```json
{
  "success": true,
  "data": {
    "travelId": 123,
    "status": "Active",
    "crossChainStatus": "LOCKING",
    "targetChain": "BSC_TESTNET"
  }
}
```

---

### 4.2 ç¡®è®¤æ—…è¡Œå¼€å§‹

```
POST /api/v1/cross-chain/travel/:travelId/started
```

**è¯·æ±‚ä½“**

```json
{
  "messageId": "0x...",
  "txHash": "0x..."
}
```

---

### 4.3 ç¡®è®¤åˆ°è¾¾ç›®æ ‡é“¾

```
POST /api/v1/cross-chain/travel/:tokenId/arrived
```

**è¯·æ±‚ä½“**

```json
{
  "messageId": "0x...",
  "arrivalTime": "2026-01-14T10:00:00.000Z"
}
```

---

### 4.4 å®Œæˆè·¨é“¾æ—…è¡Œ

```
POST /api/v1/cross-chain/travel/:tokenId/completed
```

**è¯·æ±‚ä½“**

```json
{
  "returnMessageId": "0x...",
  "xpEarned": 50,
  "txHash": "0x..."
}
```

---

## äº”ã€çŠ¶æ€æŸ¥è¯¢æ¥å£

### 5.1 è·å–è·¨é“¾çŠ¶æ€

```
GET /api/v1/cross-chain/travel/:tokenId/status
```

**å“åº”**

```json
{
  "success": true,
  "data": {
    "onChain": {
      "isActive": true,
      "targetChain": 97,
      "startTime": 1705218000,
      "duration": 3600,
      "messageId": "0x..."
    },
    "database": {
      "id": 123,
      "status": "Active",
      "crossChainStatus": "ON_TARGET_CHAIN",
      "progress": 50,
      "targetChain": "BSC_TESTNET"
    }
  }
}
```

---

### 5.2 æ£€æŸ¥è®¿é—®çŠ¶æ€

```
GET /api/v1/cross-chain/travel/:tokenId/visiting?targetChainId=97
```

**å“åº”**

```json
{
  "success": true,
  "data": {
    "isVisiting": true,
    "visitingSince": "2026-01-14T10:00:00.000Z",
    "owner": "0x..."
  }
}
```

---

### 5.3 è·å–æ´»è·ƒè·¨é“¾æ—…è¡Œ

```
GET /api/v1/cross-chain/active
```

**å“åº”**

```json
{
  "success": true,
  "data": [
    {
      "id": 123,
      "frogTokenId": 0,
      "frogName": "å°è›™",
      "targetChain": "BSC_TESTNET",
      "crossChainStatus": "ON_TARGET_CHAIN",
      "progress": 50,
      "startTime": "2026-01-14T09:00:00.000Z",
      "endTime": "2026-01-14T10:00:00.000Z"
    }
  ]
}
```

---

## å…­ã€åŒæ­¥æ¥å£

### 6.1 åŒæ­¥é“¾ä¸ŠçŠ¶æ€

```
POST /api/v1/cross-chain/sync/:tokenId
```

**å“åº”**

```json
{
  "success": true,
  "message": "State synced"
}
```

---

## ä¸ƒã€å‘ç°æ¥å£

### 7.1 è·å–æ—…è¡Œå‘ç°

```
GET /api/cross-chain/travel/:travelId/discoveries
```

**å“åº”**

```json
{
  "success": true,
  "data": {
    "discoveries": [
      {
        "id": 1,
        "type": "balance",
        "title": "å·¨é²¸é’±åŒ…",
        "description": "å‘ç°æŒæœ‰ 1000 ETH çš„åœ°å€",
        "rarity": 4,
        "blockNumber": 12345678,
        "createdAt": "2026-01-14T10:30:00.000Z"
      }
    ],
    "onChainStats": {
      "exploredBlock": 12345678,
      "gasUsed": "150000",
      "targetChain": "BSC_TESTNET",
      "exploredAddress": "0x..."
    },
    "summary": {
      "total": 5,
      "byType": { "balance": 2, "activity": 3 },
      "byRarity": { "1": 2, "2": 2, "4": 1 }
    }
  }
}
```

---

## å…«ã€æ•°æ®ç±»å‹

### 8.1 CrossChainStatus (è·¨é“¾çŠ¶æ€)

| å€¼ | è¯´æ˜ |
|------|------|
| LOCKING | é”å®šä¸­ |
| LOCKED | å·²é”å®š |
| CROSSING_OUT | è·¨é“¾å‡ºå‘ä¸­ |
| ON_TARGET_CHAIN | åœ¨ç›®æ ‡é“¾ä¸Š |
| CROSSING_BACK | è·¨é“¾è¿”å›ä¸­ |
| UNLOCKING | è§£é”ä¸­ |
| COMPLETED | å®Œæˆ |
| TIMEOUT | è¶…æ—¶ |
| FAILED | å¤±è´¥ |

### 8.2 ChainType (é“¾ç±»å‹)

| å€¼ | ChainId | è¯´æ˜ |
|------|---------|------|
| ZETACHAIN_ATHENS | 7001 | ä¸»é“¾ |
| BSC_TESTNET | 97 | BSCæµ‹è¯•ç½‘ |
| ETH_SEPOLIA | 11155111 | ä»¥å¤ªåŠæµ‹è¯•ç½‘ |

---

## ä¹ã€é”™è¯¯ç 

| HTTP | code | è¯´æ˜ |
|------|------|------|
| 400 | MISSING_FIELDS | ç¼ºå°‘å¿…è¦å­—æ®µ |
| 400 | INELIGIBLE | ä¸æ»¡è¶³è·¨é“¾æ¡ä»¶ |
| 404 | TRAVEL_NOT_FOUND | æ—…è¡Œè®°å½•ä¸å­˜åœ¨ |
| 500 | INTERNAL_ERROR | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |

---

## åã€å˜æ›´è®°å½•

| æ—¥æœŸ | å†…å®¹ |
|------|------|
| 2026-01-14 | åˆå§‹ç‰ˆæœ¬ |
