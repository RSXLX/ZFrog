# FROG 项目说明

## 错误教训记录

### 2026-01-08: 旅行合约授权冲突

**问题**: 修改普通旅行时跨链旅行失效，修改跨链旅行时普通旅行失效。

**根因**: `ZetaFrogNFTUpgradeable.sol` 有两个独立的授权变量 `travelContract` 和 `omniTravelContract`，但 `authorize-omni-travel.js` 错误地调用 `setTravelContract(omniTravelAddress)` 覆盖了普通旅行合约的授权。

**修复**:
1. 修复 `authorize-omni-travel.js` 使用正确的 `setOmniTravelContract()` 方法
2. 创建 `configure-all-travel.js` 统一配置脚本

**教训**: 配置合约授权时，必须区分 `travelContract` 和 `omniTravelContract` 两个独立变量。任何涉及旅行合约授权的脚本都应该**同时检查**两个变量的状态。

---

## 合约地址 (ZetaChain Athens)

```
zetaFrogNFT:  0x0721CDff3291a1Dd2af28633B5dEE5427553F09E
travel:       0x4e8884F6a8CEadBCfAaEEa9B888560Ac9570fbB3
omniTravel:   0x7e85A33380f6994e510F884238f37827B25e50d5
souvenirNFT:  0xCE871f9F009f7Fa49f23f0EEE09977FfB7b4DbF5
```

## 常用脚本

- 配置所有旅行合约: `npx hardhat run scripts/configure-all-travel.js --network zetaAthens`
