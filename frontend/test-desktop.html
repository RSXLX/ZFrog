<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZetaFrog æ¡Œé¢å® ç‰©æµ‹è¯•</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/framer-motion@10/dist/framer-motion.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
                sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        .frog-container {
            width: 200px;
            height: 200px;
            position: relative;
            cursor: pointer;
        }
        
        .frog-sprite {
            font-size: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            user-select: none;
        }
        
        .speech-bubble {
            position: absolute;
            bottom: 110%;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 8px 12px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            white-space: nowrap;
            font-size: 14px;
        }
        
        .speech-bubble::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 6px solid transparent;
            border-top-color: white;
        }
        
        .particle {
            position: absolute;
            font-size: 24px;
            pointer-events: none;
            animation: particle-float 1s ease-out forwards;
        }
        
        @keyframes particle-float {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(var(--x), var(--y)) scale(0.5);
            }
        }
        
        .controls {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            background: white;
            padding: 12px;
            border-radius: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .event-panel {
            position: fixed;
            top: 80px;
            right: 20px;
            width: 300px;
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 16px;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .event-item {
            padding: 8px;
            margin: 4px 0;
            border-radius: 8px;
            font-size: 14px;
            border-left: 4px solid;
        }
        
        .event-buy {
            background: #f0fdf4;
            border-color: #22c55e;
        }
        
        .event-sell {
            background: #fef2f2;
            border-color: #ef4444;
        }
        
        .event-whale {
            background: #eff6ff;
            border-color: #3b82f6;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const { motion, AnimatePresence } = Motion;
        
        // æ¨¡æ‹Ÿé“¾ä¸Šäº‹ä»¶
        const mockEvents = [
            { type: 'large_buy', token: 'ZETA', value: 150000, icon: 'ğŸŸ¢', label: 'å¤§å•ä¹°å…¥' },
            { type: 'large_sell', token: 'ETH', value: 200000, icon: 'ğŸ”´', label: 'å¤§å•å–å‡º' },
            { type: 'whale_transfer', token: 'BTC', value: 5000000, icon: 'ğŸ‹', label: 'é²¸é±¼è½¬è´¦' },
        ];
        
        // é’è›™ç»„ä»¶
        function FrogPet() {
            const [state, setState] = useState('idle');
            const [speech, setSpeech] = useState('');
            const [mood, setMood] = useState('ğŸ˜');
            const [energy, setEnergy] = useState(80);
            const [clickCount, setClickCount] = useState(0);
            const speechTimeout = useRef(null);
            
            // æ¸…é™¤å¯¹è¯
            const clearSpeech = () => {
                if (speechTimeout.current) {
                    clearTimeout(speechTimeout.current);
                }
                setSpeech('');
            };
            
            // æ˜¾ç¤ºå¯¹è¯
            const showSpeech = (text, duration = 3000) => {
                clearSpeech();
                setSpeech(text);
                speechTimeout.current = setTimeout(clearSpeech, duration);
            };
            
            // åˆ›å»ºç²’å­æ•ˆæœ
            const createParticles = (emoji, count = 5) => {
                const container = document.querySelector('.frog-container');
                if (!container) return;
                
                for (let i = 0; i < count; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    particle.textContent = emoji;
                    particle.style.setProperty('--x', `${(Math.random() - 0.5) * 100}px`);
                    particle.style.setProperty('--y', `${-Math.random() * 100 - 50}px`);
                    container.appendChild(particle);
                    
                    setTimeout(() => particle.remove(), 1000);
                }
            };
            
            // å¤„ç†ç‚¹å‡»
            const handleClick = () => {
                const newCount = clickCount + 1;
                setClickCount(newCount);
                
                if (newCount > 10) {
                    setState('angry');
                    setMood('ğŸ˜ ');
                    showSpeech('åˆ«æˆ³äº†ï¼ç”Ÿæ°”äº†ï¼ğŸ˜¤');
                } else if (newCount > 5) {
                    setState('happy');
                    setMood('ğŸ˜Š');
                    showSpeech('å˜¿å˜¿ï¼Œå¥½ç—’ï¼ğŸ¤­');
                    createParticles('â¤ï¸', 5);
                } else {
                    const reactions = [
                        { state: 'happy', text: 'ä½ å¥½å‘€ï¼ğŸ‘‹', mood: 'ğŸ˜Š', particles: { emoji: 'â¤ï¸', count: 3 } },
                        { state: 'jumping', text: 'å‘±å‘±ï¼ğŸ¸', mood: 'ğŸ¤—', particles: { emoji: 'â­', count: 4 } },
                        { state: 'curious', text: 'å—¯ï¼Ÿæœ‰ä»€ä¹ˆäº‹ï¼ŸğŸ¤”', mood: 'ğŸ¤”', particles: null },
                    ];
                    const reaction = reactions[Math.floor(Math.random() * reactions.length)];
                    setState(reaction.state);
                    setMood(reaction.mood);
                    showSpeech(reaction.text);
                    if (reaction.particles) {
                        createParticles(reaction.particles.emoji, reaction.particles.count);
                    }
                }
                
                // 3ç§’åæ¢å¤
                setTimeout(() => {
                    setState('idle');
                    setMood('ğŸ˜');
                    setClickCount(0);
                }, 3000);
            };
            
            // å¤„ç†é“¾ä¸Šäº‹ä»¶
            const handleChainEvent = (event) => {
                switch (event.type) {
                    case 'large_buy':
                        setState('excited');
                        setMood('ğŸ¤©');
                        showSpeech(`å“‡ï¼æœ‰äººä¹°äº† ${formatValue(event.value)} ${event.token}ï¼ğŸš€`);
                        createParticles('â­', 8);
                        break;
                    case 'large_sell':
                        setState('scared');
                        setMood('ğŸ˜±');
                        showSpeech(`å•Šï¼å¤§å•å–å‡º ${formatValue(event.value)} ${event.token}ï¼`);
                        createParticles('ğŸ’¦', 3);
                        break;
                    case 'whale_transfer':
                        setState('rich');
                        setMood('ğŸ¤‘');
                        showSpeech(`å·¨é²¸å‡ºåŠ¨ï¼${formatValue(event.value)} ${event.token}ï¼ğŸ‹`);
                        createParticles('ğŸª™', 10);
                        break;
                }
                
                // 5ç§’åæ¢å¤
                setTimeout(() => {
                    setState('idle');
                    setMood('ğŸ˜');
                }, 5000);
            };
            
            // æ ¼å¼åŒ–é‡‘é¢
            const formatValue = (value) => {
                if (value >= 1000000) return `$${(value / 1000000).toFixed(1)}M`;
                if (value >= 1000) return `$${(value / 1000).toFixed(1)}K`;
                return `$${value.toFixed(2)}`;
            };
            
            // è·å–é’è›™åŠ¨ç”»
            const getFrogAnimation = () => {
                switch (state) {
                    case 'jumping':
                        return { y: [0, -30, 0], transition: { duration: 0.5 } };
                    case 'excited':
                        return { scale: [1, 1.2, 1], transition: { duration: 0.3 } };
                    case 'scared':
                        return { x: [-5, 5, -5, 5, 0], transition: { duration: 0.5 } };
                    case 'happy':
                        return { rotate: [0, -10, 10, 0], transition: { duration: 0.5 } };
                    default:
                        return { y: [0, -3, 0], transition: { duration: 2, repeat: Infinity } };
                }
            };
            
            return (
                <motion.div 
                    className="frog-container"
                    onClick={handleClick}
                    whileHover={{ scale: 1.05 }}
                    whileTap={{ scale: 0.95 }}
                >
                    <motion.div 
                        className="frog-sprite"
                        animate={getFrogAnimation()}
                    >
                        ğŸ¸
                    </motion.div>
                    
                    {/* å¿ƒæƒ…æ˜¾ç¤º */}
                    <div className="absolute top-0 right-0 text-2xl">
                        {mood}
                    </div>
                    
                    {/* ç²¾åŠ›æ¡ */}
                    <div className="absolute bottom-0 left-0 right-0 mx-4 h-2 bg-gray-200 rounded-full overflow-hidden">
                        <motion.div 
                            className="h-full bg-green-500"
                            animate={{ width: `${energy}%` }}
                        />
                    </div>
                    
                    {/* å¯¹è¯æ°”æ³¡ */}
                    <AnimatePresence>
                        {speech && (
                            <motion.div
                                className="speech-bubble"
                                initial={{ opacity: 0, y: 10 }}
                                animate={{ opacity: 1, y: 0 }}
                                exit={{ opacity: 0, y: -10 }}
                            >
                                {speech}
                            </motion.div>
                        )}
                    </AnimatePresence>
                </motion.div>
            );
        }
        
        // äº‹ä»¶é¢æ¿ç»„ä»¶
        function EventPanel() {
            const [events, setEvents] = useState([]);
            
            // æ¨¡æ‹Ÿæ¥æ”¶é“¾ä¸Šäº‹ä»¶
            useEffect(() => {
                const interval = setInterval(() => {
                    if (Math.random() > 0.8) {
                        const event = mockEvents[Math.floor(Math.random() * mockEvents.length)];
                        setEvents(prev => [event, ...prev.slice(0, 9)]);
                        
                        // è§¦å‘é’è›™ååº”
                        const frogEvent = new CustomEvent('chainEvent', { detail: event });
                        window.dispatchEvent(frogEvent);
                    }
                }, 3000);
                
                return () => clearInterval(interval);
            }, []);
            
            return (
                <div className="event-panel">
                    <h3 className="font-bold text-lg mb-4 flex items-center gap-2">
                        â›“ï¸ é“¾ä¸Šç›‘æ§
                        <span className="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                    </h3>
                    <div className="space-y-2">
                        {events.length === 0 ? (
                            <div className="text-center py-8 text-gray-400">
                                <div className="text-4xl mb-2">ğŸ¸</div>
                                <p>æš‚æ— äº‹ä»¶</p>
                                <p className="text-xs">é’è›™æ­£åœ¨ç›‘æ§ä¸­...</p>
                            </div>
                        ) : (
                            events.map((event, index) => (
                                <motion.div
                                    key={index}
                                    className={`event-item event-${event.type.split('_')[0]}`}
                                    initial={{ opacity: 0, y: -20 }}
                                    animate={{ opacity: 1, y: 0 }}
                                >
                                    <div className="flex items-center gap-2">
                                        <span className="text-lg">{event.icon}</span>
                                        <div className="flex-1">
                                            <div className="font-medium text-gray-800">
                                                {event.label}
                                            </div>
                                            <div className="text-sm text-gray-600">
                                                {formatValue(event.value)} {event.token}
                                            </div>
                                        </div>
                                    </div>
                                </motion.div>
                            ))
                        )}
                    </div>
                </div>
            );
        }
        
        // æ§åˆ¶é¢æ¿ç»„ä»¶
        function ControlPanel() {
            const handleFeed = () => {
                const event = new CustomEvent('feed', { detail: { food: 'fly' } });
                window.dispatchEvent(event);
            };
            
            const handleTravel = () => {
                const event = new CustomEvent('travel', { detail: { destination: 'forest' } });
                window.dispatchEvent(event);
            };
            
            return (
                <div className="controls">
                    <button
                        onClick={handleFeed}
                        className="px-4 py-2 bg-orange-500 text-white rounded-full hover:bg-orange-600 transition-colors"
                    >
                        ğŸ½ï¸ å–‚é£Ÿ
                    </button>
                    <button
                        onClick={handleTravel}
                        className="px-4 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-colors"
                    >
                        ğŸ’ æ—…è¡Œ
                    </button>
                    <button
                        onClick={() => window.location.reload()}
                        className="px-4 py-2 bg-gray-500 text-white rounded-full hover:bg-gray-600 transition-colors"
                    >
                        ğŸ”„ é‡ç½®
                    </button>
                </div>
            );
        }
        
        // ä¸»åº”ç”¨ç»„ä»¶
        function App() {
            const [events, setEvents] = useState([]);
            
            // ç›‘å¬é“¾ä¸Šäº‹ä»¶
            useEffect(() => {
                const handleChainEvent = (e) => {
                    setEvents(prev => [e.detail, ...prev.slice(0, 4)]);
                };
                
                window.addEventListener('chainEvent', handleChainEvent);
                return () => window.removeEventListener('chainEvent', handleChainEvent);
            }, []);
            
            return (
                <div className="min-h-screen bg-gradient-to-b from-sky-200 via-green-100 to-green-200 relative overflow-hidden">
                    {/* èƒŒæ™¯è£…é¥° */}
                    <div className="absolute inset-0 pointer-events-none">
                        <div className="absolute top-10 left-10 text-6xl opacity-50">â˜ï¸</div>
                        <div className="absolute top-20 right-20 text-4xl opacity-40">â˜ï¸</div>
                        <div className="absolute top-5 left-1/2 text-5xl opacity-45">â˜ï¸</div>
                        <div className="absolute top-10 right-10 text-6xl">â˜€ï¸</div>
                    </div>
                    
                    {/* é¡¶éƒ¨å¯¼èˆª */}
                    <nav className="fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-sm border-b border-gray-200">
                        <div className="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
                            <div className="flex items-center gap-3">
                                <span className="text-3xl">ğŸ¸</span>
                                <span className="font-bold text-xl text-gray-800">ZetaFrog Desktop</span>
                            </div>
                            <div className="text-sm text-gray-600">
                                {new Date().toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' })}
                            </div>
                        </div>
                    </nav>
                    
                    {/* ä¸»è¦å†…å®¹ */}
                    <main className="pt-24 pb-12 px-6 relative z-10">
                        <div className="max-w-7xl mx-auto">
                            <div className="text-center mb-8">
                                <h1 className="text-3xl font-bold text-gray-800 mb-2">
                                    æ¬¢è¿æ¥åˆ° ZetaFrog æ¡Œé¢å® ç‰©ä¸–ç•Œï¼
                                </h1>
                                <p className="text-gray-600">
                                    ç‚¹å‡»é’è›™è¿›è¡Œäº’åŠ¨ï¼Œè§‚å¯Ÿé“¾ä¸Šäº‹ä»¶ï¼Œäº«å— Web3 å…»æˆä¹è¶£ï¼
                                </p>
                            </div>
                            
                            {/* é’è›™åŒºåŸŸ */}
                            <div className="flex justify-center items-center min-h-[60vh]">
                                <FrogPet />
                            </div>
                        </div>
                    </main>
                    
                    {/* ç»„ä»¶ */}
                    <EventPanel />
                    <ControlPanel />
                </div>
            );
        }
        
        // æ¸²æŸ“åº”ç”¨
        ReactDOM.render(<App />, document.getElementById('root'));
        
        // è¾…åŠ©å‡½æ•°
        function formatValue(value) {
            if (value >= 1000000) return `$${(value / 1000000).toFixed(1)}M`;
            if (value >= 1000) return `$${(value / 1000).toFixed(1)}K`;
            return `$${value.toFixed(2)}`;
        }
    </script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</body>
</html>